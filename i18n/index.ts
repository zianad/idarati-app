

const translations = {
  ar: {
    // General
    'login': 'تسجيل الدخول',
    'logout': 'تسجيل الخروج',
    'secretCode': 'الرمز السري',
    'enterSecretCode': 'أدخل الرمز السري للوصول',
    'invalidCode': 'الرمز السري غير صحيح',
    'add': 'إضافة',
    'edit': 'تعديل',
    'delete': 'حذف',
    'save': 'حفظ',
    'cancel': 'إلغاء',
    'name': 'الاسم',
    'phone': 'الهاتف',
    'actions': 'إجراءات',
    'confirmDelete': 'هل أنت متأكد أنك تريد الحذف؟',
    'deleteSuccess': 'تم الحذف بنجاح',
    'addSuccess': 'تمت الإضافة بنجاح',
    'editSuccess': 'تم التعديل بنجاح',
    'upload': 'تحميل الشعار',
    'fillAllFields': 'الرجاء تعبئة جميع الحقول المطلوبة.',
    'schoolIsInactive': 'هذه المدرسة غير نشطة حاليا. يرجى الاتصال بالمسؤول.',

    // Super Admin
    'superAdminDashboard': 'لوحة تحكم المدير الخارق',
    'adminDashboard': 'لوحة تحكم المسؤول',
    'registeredSchools': 'المدارس المسجلة',
    'addNewSchool': 'إضافة مدرسة جديدة',
    'schoolName': 'اسم المدرسة',
    'schoolLogo': 'شعار المدرسة',
    'ownerCode': 'رمز المالك',
    'staffCode': 'رمز الموظف',
    'schoolStatus': 'حالة المدرسة',
    'active': 'نشطة',
    'inactive': 'غير نشطة',
    'statusUpdatedSuccess': 'تم تحديث حالة المدرسة بنجاح.',
    'manageSchool': 'إدارة المدرسة',
    'returnToSuperAdmin': 'العودة إلى لوحة المدير الخارق',
    'impersonationNotice': 'أنت تتصفح حاليًا كمدير لمدرسة {schoolName}.',
    'trialPeriodDays': 'فترة تجريبية (أيام)',
    'trialEndsOn': 'تنتهي الفترة التجريبية في {date}',
    
    // Layout
    'dashboard': 'لوحة التحكم',
    'students': 'الطلاب',
    'teachers': 'الأساتذة',
    'levelsAndGroups': 'المستويات و الأفواج',
    'subjectsAndCourses': 'المواد و الدورات',
    'finances': 'المالية',
    'schedule': 'البرنامج اليومي',
    'settings': 'الإعدادات',

    // Dashboard
    'totalStudents': 'إجمالي الطلاب',
    'totalTeachers': 'إجمالي الأساتذة',
    'studentsDistributionByGroup': 'توزيع الطلاب على الأفواج',
    'paymentAlerts': 'تنبيهات الدفع لهذا الشهر',
    'noPaymentAlerts': 'لا توجد تنبيهات دفع حالية',
    'student': 'الطالب',
    'level': 'المستوى',
    'levels': 'المستويات',
    'group': 'الفوج',

    // Settings
    'schoolInfo': 'معلومات المدرسة',
    'securitySettings': 'إعدادات الأمان',
    'updateInfo': 'تحديث المعلومات',
    'updateCodes': 'تحديث الرموز',
    'codesUpdatedSuccess': 'تم تحديث الرموز بنجاح',
    'infoUpdatedSuccess': 'تم تحديث المعلومات بنجاح',
    'dataManagement': 'إدارة البيانات',
    'exportData': 'تصدير البيانات',
    'exportDescription': 'احفظ نسخة احتياطية من جميع بياناتك في ملف واحد.',
    'importData': 'استيراد البيانات',
    'importDescription': 'استرجع بياناتك من ملف نسخة احتياطية. سيتم الكتابة فوق البيانات الحالية.',
    'importConfirm': 'هل أنت متأكد؟ سيؤدي استيراد البيانات إلى الكتابة فوق جميع البيانات الحالية بشكل دائم.',
    'importSuccess': 'تم استيراد البيانات بنجاح.',
    'importError': 'فشل استيراد البيانات. يرجى التحقق من أن الملف صحيح.',

    // Students
    'studentList': 'قائمة الطلاب',
    'addNewStudent': 'إضافة طالب جديد',
    'editStudent': 'تعديل بيانات الطالب',
    'searchStudentByName': 'ابحث عن طالب بالاسم...',
    'parentPhone': 'هاتف ولي الأمر',
    'groups': 'الأفواج',
    'optionalSchoolName': "اسم المدرسة (اختياري)",
    'studentSchool': "المدرسة",
    'addPayment': "إضافة دفعة",
    'paymentFor': "دفعة للطالب",
    'paymentAmount': "مبلغ الدفعة",
    'paymentMonth': "شهر الدفعة (YYYY-MM)",
    'selectCourseOptional': "اختر الدورة (اختياري)",
    'enrolledSubjects': 'المواد المسجلة',


    // Teachers
    'teacherList': 'قائمة الأساتذة',
    'addNewTeacher': 'إضافة أستاذ جديد',
    'editTeacher': 'تعديل بيانات الأستاذ',
    'subject': 'المادة',
    'subjects': 'المواد',
    'salary': 'الراتب',
    'salaryType': 'نوع الراتب',
    'salaryValue': 'القيمة',
    'fixedSalary': 'راتب شهري قار',
    'percentage': 'نسبة مئوية',
    'perSession': 'للحصة',
    'teacherDues': 'مستحقات الأساتذة',
    'noTeacherDuesFound': 'لا توجد مستحقات حالية',

    // Courses & Subjects
    'trainingCourses': 'الدورات التكوينية',
    'addNewCourse': 'إضافة دورة جديدة',
    'editSubject': 'تعديل المادة',
    'courseName': 'اسم الدورة',
    'courseFee': 'رسوم الدورة',
    'addNewSubject': 'إضافة مادة جديدة',
    'subjectName': 'اسم المادة',
    'subjectFee': 'رسوم المادة',
    'assignedTeachers': 'الأساتذة المسؤولون',
    'selectTeachers': 'اختر الأساتذة',
    'sessionsPerMonth': 'الحصص الشهرية',
    'classroom': 'القاعة',
    'classrooms': 'القاعات',
    'defaultClassroom': 'القاعة الافتراضية',
    'scheduledIn': 'مجدولة في',
    'default': 'افتراضي',
    'sessionTimeOptional': 'توقيت الحصة (اختياري)',
    
    // Levels & Groups
    'addNewLevel': 'إضافة مستوى جديد',
    'addNewGroup': 'إضافة فوج جديد',
    'levelName': 'اسم المستوى',
    'groupName': 'اسم الفوج',

    // Finances
    'financialStatistics': 'إحصائيات مالية',
    'totalIncome': 'إجمالي المداخيل',
    'totalExpenses': 'إجمالي المصاريف',
    'netProfit': 'الربح الصافي',
    'financialPerformance': 'الأداء المالي الشهري',
    'addExpense': 'إضافة مصروف جديد',
    'expenseDescription': 'وصف المصروف',
    'amount': 'المبلغ',
    'date': 'التاريخ',
    'income': 'المداخيل',
    'expenses': 'المصاريف',
    'description': 'الوصف',
    'paymentDetails': 'التفاصيل',
    'generalFees': 'رسوم عامة',
    'initialRegistrationFee': 'رسوم تسجيل المواد للشهر الأول',
    'teacherSalaryForStudentSubject': 'راتب للأستاذ {teacherName} (مادة {subjectName}) - طالب {studentName}',

    // Schedule
    'weeklySchedule': 'البرنامج الأسبوعي',
    'time': 'الوقت',
    'saturday': 'السبت',
    'sunday': 'الأحد',
    'monday': 'الإثنين',
    'tuesday': 'الثلاثاء',
    'wednesday': 'الأربعاء',
    'thursday': 'الخميس',
    'friday': 'الجمعة',
    'dragHint': 'اسحب وأفلت الحصص لتغيير ترتيبها',
    'saveChanges': 'حفظ التغييرات',
    'scheduleUpdated': 'تم تحديث البرنامج بنجاح',
    'scheduleSession': 'جدولة حصة',
    'selectSubject': 'اختر المادة',
    'selectCourse': 'اختر الدورة',
    'selectDay': 'اختر اليوم',
    'selectTime': 'اختر التوقيت',
    'deleteSession': 'حذف الحصة',
    'selectLevel': 'اختر المستوى',
    'duration': 'المدة',
    'minutes': 'دقائق',
  },
  fr: {
    // General
    'login': 'Connexion',
    'logout': 'Déconnexion',
    'secretCode': 'Code Secret',
    'enterSecretCode': 'Entrez le code secret pour accéder',
    'invalidCode': 'Code secret invalide',
    'add': 'Ajouter',
    'edit': 'Modifier',
    'delete': 'Supprimer',
    'save': 'Enregistrer',
    'cancel': 'Annuler',
    'name': 'Nom',
    'phone': 'Téléphone',
    'actions': 'Actions',
    'confirmDelete': 'Êtes-vous sûr de vouloir supprimer ?',
    'deleteSuccess': 'Supprimé avec succès',
    'addSuccess': 'Ajouté avec succès',
    'editSuccess': 'Modifié avec succès',
    'upload': 'Télécharger le logo',
    'fillAllFields': 'Veuillez remplir tous les champs requis.',
    'schoolIsInactive': 'Cette école est actuellement inactive. Veuillez contacter l\'administrateur.',

    // Super Admin
    'superAdminDashboard': 'Tableau de Bord Super Admin',
    'adminDashboard': 'Tableau de bord Admin',
    'registeredSchools': 'Écoles Enregistrées',
    'addNewSchool': 'Ajouter une nouvelle école',
    'schoolName': 'Nom de l\'école',
    'schoolLogo': 'Logo de l\'école',
    'ownerCode': 'Code Propriétaire',
    'staffCode': 'Code Employé',
    'schoolStatus': 'Statut de l\'école',
    'active': 'Active',
    'inactive': 'Inactive',
    'statusUpdatedSuccess': 'Le statut de l\'école a été mis à jour avec succès.',
    'manageSchool': 'Gérer l\'école',
    'returnToSuperAdmin': 'Retour au tableau de bord Super Admin',
    'impersonationNotice': 'Vous consultez actuellement en tant qu\'administrateur de l\'école {schoolName}.',
    'trialPeriodDays': "Période d'essai (jours)",
    'trialEndsOn': "L'essai se termine le {date}",

    // Layout
    'dashboard': 'Tableau de Bord',
    'students': 'Étudiants',
    'teachers': 'Enseignants',
    'levelsAndGroups': 'Niveaux & Groupes',
    'subjectsAndCourses': 'Matières & Cours',
    'finances': 'Finances',
    'schedule': 'Emploi du Temps',
    'settings': 'Paramètres',
    
    // Dashboard
    'totalStudents': 'Total Étudiants',
    'totalTeachers': 'Total Enseignants',
    'studentsDistributionByGroup': 'Répartition des étudiants par groupe',
    'paymentAlerts': 'Alertes de paiement pour ce mois',
    'noPaymentAlerts': 'Aucune alerte de paiement actuellement',
    'student': 'Étudiant',
    'level': 'Niveau',
    'levels': 'Niveaux',
    'group': 'Groupe',

    // Settings
    'schoolInfo': 'Informations sur l\'école',
    'securitySettings': 'Paramètres de sécurité',
    'updateInfo': 'Mettre à jour les informations',
    'updateCodes': 'Mettre à jour les codes',
    'codesUpdatedSuccess': 'Codes mis à jour avec succès',
    'infoUpdatedSuccess': 'Informations mises à jour avec succès',
    'dataManagement': 'Gestion des données',
    'exportData': 'Exporter les données',
    'exportDescription': 'Sauvegardez toutes vos données dans un seul fichier.',
    'importData': 'Importer les données',
    'importDescription': 'Restaurez vos données depuis un fichier de sauvegarde. Les données actuelles seront écrasées.',
    'importConfirm': 'Êtes-vous sûr ? L\'importation écrasera définitivement toutes les données actuelles.',
    'importSuccess': 'Données importées avec succès.',
    'importError': 'Échec de l\'importation des données. Veuillez vérifier que le fichier est correct.',

    // Students
    'studentList': 'Liste des Étudiants',
    'addNewStudent': 'Ajouter un nouvel étudiant',
    'editStudent': 'Modifier l\'étudiant',
    'searchStudentByName': 'Rechercher un étudiant par nom...',
    'parentPhone': 'Tél. Parent',
    'groups': 'Groupes',
    'optionalSchoolName': "Nom de l'école (optionnel)",
    'studentSchool': "École",
    'addPayment': "Ajouter un paiement",
    'paymentFor': "Paiement pour l'étudiant",
    'paymentAmount': "Montant du paiement",
    'paymentMonth': "Mois du paiement (AAAA-MM)",
    'selectCourseOptional': "Sélectionner un cours (optionnel)",
    'enrolledSubjects': 'Matières Inscrites',

    // Teachers
    'teacherList': 'Liste des Enseignants',
    'addNewTeacher': 'Ajouter un nouvel enseignant',
    'editTeacher': 'Modifier l\'enseignant',
    'subject': 'Matière',
    'subjects': 'Matières',
    'salary': 'Salaire',
    'salaryType': 'Type de Salaire',
    'salaryValue': 'Valeur',
    'fixedSalary': 'Salaire Mensuel Fixe',
    'percentage': 'Pourcentage',
    'perSession': 'Par Séance',
    'teacherDues': 'Créances des enseignants',
    'noTeacherDuesFound': 'Aucune créance trouvée',
    
    // Courses & Subjects
    'trainingCourses': 'Cours de Formation',
    'addNewCourse': 'Ajouter un nouveau cours',
    'editSubject': 'Modifier la matière',
    'courseName': 'Nom du cours',
    'courseFee': 'Frais de cours',
    'addNewSubject': 'Ajouter une nouvelle matière',
    'subjectName': 'Nom de la matière',
    'subjectFee': 'Frais de la Matière',
    'assignedTeachers': 'Enseignants Assignés',
    'selectTeachers': 'Sélectionner les enseignants',
    'sessionsPerMonth': 'Séances par mois',
    'classroom': 'Salle de classe',
    'classrooms': 'Salles de classe',
    'defaultClassroom': 'Salle de classe par défaut',
    'scheduledIn': 'Programmé en',
    'default': 'défaut',
    'sessionTimeOptional': 'Heure de la séance (Optionnel)',

    // Levels & Groups
    'addNewLevel': 'Ajouter un nouveau niveau',
    'addNewGroup': 'Ajouter un nouveau groupe',
    'levelName': 'Nom du niveau',
    'groupName': 'Nom du groupe',
    
    // Finances
    'financialStatistics': 'Statistiques Financières',
    'totalIncome': 'Revenu Total',
    'totalExpenses': 'Dépenses Totales',
    'netProfit': 'Bénéfice Net',
    'financialPerformance': 'Performance Financière Mensuelle',
    'addExpense': 'Ajouter une nouvelle dépense',
    'expenseDescription': 'Description de la dépense',
    'amount': 'Montant',
    'date': 'Date',
    'income': 'Revenus',
    'expenses': 'Dépenses',
    'description': 'Description',
    'paymentDetails': 'Détails',
    'generalFees': 'Frais généraux',
    'initialRegistrationFee': 'Frais d\'inscription aux matières pour le premier mois',
    'teacherSalaryForStudentSubject': 'Salaire pour prof {teacherName} (matière {subjectName}) - étudiant {studentName}',

    // Schedule
    'weeklySchedule': 'Programme de la semaine',
    'time': 'Heure',
    'saturday': 'Samedi',
    'sunday': 'Dimanche',
    'monday': 'Lundi',
    'tuesday': 'Mardi',
    'wednesday': 'Mercredi',
    'thursday': 'Jeudi',
    'friday': 'Vendredi',
    'dragHint': 'Glissez-déposez les sessions pour les réorganiser',
    'saveChanges': 'Enregistrer les modifications',
    'scheduleUpdated': 'Programme mis à jour avec succès',
    'scheduleSession': 'Planifier une session',
    'selectSubject': 'Sélectionner la matière',
    'selectCourse': 'Sélectionner le cours',
    'selectDay': 'Sélectionner le jour',
    'selectTime': 'Sélectionner l\'heure',
    'deleteSession': 'Supprimer la session',
    'selectLevel': 'Sélectionner le niveau',
    'duration': 'Durée',
    'minutes': 'Minutes',
  }
};

export type Language = 'ar' | 'fr';
export type TranslationKey = keyof typeof translations.ar | keyof typeof translations.fr;

export const getTranslator = (lang: Language) => (key: TranslationKey, vars: Record<string, string | number> = {}) => {
  let translation: string = translations[lang][key] || key;
  Object.keys(vars).forEach(varKey => {
    const regex = new RegExp(`{${varKey}}`, 'g');
    translation = translation.replace(regex, String(vars[varKey]));
  });
  return translation;
};